FireFly 1.2.0
=============

Changes
-------

 * FireFly is now performing a hybrid approach during the interpolation.
 We try to find a sparsest shift and then interpolate the rational function
 including this shift. Thus, we need at worst the maximal number of terms of
 the rational function as black-box probes while also utilizing the sparsity
 of a function to some extend. This sould lead for the average case for a
 drastical reduction of needed black-box probes and overall increased runtime.
 
 * When we need a shift in additional prime fields without the useage of the
 safe mode, we also perform a hybrid approach which first checks which polynomial
 has the maximal number of terms. This polynomial will be calculated sparsely.
 All polynomials which have less or equal terms than the maximal number (including
 terms generated by a shift) are calculated densely. Polynomials which have
 more terms than the maximal number when including terms generated by a shift
 are calculated sparsely due to the subtraction of terms generated by the shift.
 This leads in general to less required black-box probes than a dense approach
 while minimizing the oversampling when a sparse shift is found.

Bug fixes
---------

 * The `Reconstructor` class now has a destructor which deletes all dynamically
 allocated memory.
 
 * The safe mode is again usable.
 
 * If the number of variables was set to 1 and the black box was just a constant,
 the interpolation failed. This has been fixed and constants for one variable
 are interpolatable again.


FireFly 1.1.1
=============

Bug fixes
---------

 * The `Reconstructor` class can reconstruct zeros again.


FireFly 1.1.0
=============

New features
------------
 * Added Ben-Or/Tiwari sparse univariate polynomial interpolation algorithm
 and combined it with the dense Newton interpolation algorithm to a
 racing algorithm during Zippel's algorithm. This reduces the number of
 black-box probes for sparse multivariate polynomials significantly.
 Thanks to Sven Yannick Klein.

 * During the interpolation of the univariate rational auxiliary functions
 constants in numerator or denominator which are not used for normalization
 are removed from the systems of equations to reduce the number of black-box
 probes.

 * Added a "safe mode" which interpolates the black box from scratch over
 each prime field to be sensitive to unlucky primes, zeros, and other
 errors. It can be used by calling the member function `set_safe_interpolation()`
 of the `Reconstructor` class.

 * The black box is no longer a function of `Reconstructor` but instead a functor.
 `source/include/Reconstructor.hpp` contains the base class `BlackBoxBase`.
 The user has to define his black box as a derived class and provide a constructor,
 the evaluation `std::vector<FFInt> operator()(const std::vector<FFInt>& values)`,
 and the function `void prime_changed()` which allows the user to change class
 variables when the prime field changes. `Reconstructor` has to be initialized with
 a reference to the black box. The example class `BlackBoxUser` can be found in
 `example.cpp`

 * Added a script which converts a list of functions in Mathematica syntax
 to compilable C++ code to perform interpolations with them. This can be
 helpful for arithmetic with functions with many terms where other programs
 fail. The script can be found in the `mma_2_ff` directory.

 * Added a shunting-yard parser to parse a collection of rational functions
 for functional evaluation. This skips the compilation steps of the Mathematica
 to C++ conversion script.

 * Added a Horner representation of rational functions which may result in
 faster evaluation times when needed. Check out `source/include/HornerGenerator.hpp`
 and the new member functions of `RationalFunctions` and `Polynomial`, respectively.

 * Added dense algorithms for matrix manipulation, e.g., computing the inverse,
 the determinant, or the solution of a system of equations. Additionally,
 LU decompositions are supported. Further information can be found in
 `source/include/DenseSolver.hpp`.

Changes
-------

 * Generate 64-bit anchor points and shifts instead of 32-bit.

 * Many small runtime improvements and minor bug fixes.

 * Discard prime fields over which the black box evaluates to zero in the first
 probe. This makes the code safer regarding unlucky primes and zeros.

Bug fixes
---------

 * When the member function `to_string` of the `RationalFunction` class was called
 on a zero polynomial an error was thrown which was actually not an error. Thanks
 to Long Chen.


FireFly 1.0.0
=============

This is the initial release of the FireFly library. FireFly interpolates rational
functions over finite (prime) fields Z_p.
